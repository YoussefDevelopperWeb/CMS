<div class="main-content" [class.expanded]="isCollapsed">
    <!-- Header with greeting and search -->
    <div class="header">
      <h1>Bonjour, {{username}} !</h1>
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
        </svg>
      </div>
    </div>
    
    <!-- Info Cards -->
    <div class="info-cards">
      <div class="card">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-card-image card-icon" viewBox="0 0 16 16">
          <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
          <path d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z"/>
        </svg>
        <div class="card-count">{{cardData.images.count}}</div>
        <div class="card-label">{{cardData.images.label}}</div>
      </div>
      
      <div class="card">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-camera-video card-icon" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/>
        </svg>
        <div class="card-count">{{cardData.videos.count}}</div>
        <div class="card-label">{{cardData.videos.label}}</div>
      </div>
      
      <div class="card">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-box card-icon" viewBox="0 0 16 16">
          <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
        </svg>
        <div class="card-count">{{cardData.picto.count}}</div>
        <div class="card-label">{{cardData.picto.label}}</div>
      </div>
      
      <div class="card">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-earmark-font card-icon" viewBox="0 0 16 16">
          <path d="M10.943 6H5.057L5 8h.5c.18-1.096.356-1.192 1.694-1.235l.293-.01v5.09c0 .47-.1.582-.898.655v.5H9.41v-.5c-.803-.073-.903-.184-.903-.654V6.755l.298.01c1.338.043 1.514.14 1.694 1.235h.5l-.057-2z"/>
          <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
        </svg>
        <div class="card-count">{{cardData.documents.count}}</div>
        <div class="card-label">{{cardData.documents.label}}</div>
      </div>
    </div>
    
    <!-- Dashboard Charts -->
    <div class="dashboard-charts">
      <!-- File Status Chart -->
      <div class="chart-card">
        <div class="chart-header">
          <h2>État des fichiers</h2>
          <p class="chart-subheader">Images, vidéos et campagnes</p>
        </div>
        
        <div class="chart-content">
          <!-- Circle Chart -->
          <div class="donut-chart">
            <svg viewBox="0 0 100 100" class="donut">
              <!-- Template SVG for donut chart -->
              <circle cx="50" cy="50" r="40" fill="transparent" stroke="#ddd" stroke-width="20"></circle>
              
              <!-- Dynamic segments will be generated in component -->
              <!-- Example segments based on chartData -->
              <circle *ngFor="let item of chartData; let i = index" 
                     cx="50" cy="50" r="40" fill="transparent"
                     [attr.stroke]="item.color"
                     stroke-width="20"
                     [attr.stroke-dasharray]="getDonutSegment(item.count, i)"
                     [attr.stroke-dashoffset]="getDonutOffset(i)">
              </circle>
            </svg>
          </div>
          
          <!-- Chart Legend -->
          <div class="chart-legend">
            <div class="legend-item" *ngFor="let item of chartData">
              <div class="legend-color" [style.background-color]="item.color"></div>
              <div class="legend-label">{{item.status}}</div>
              <div class="legend-count">{{item.count}}</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- File Management Illustration -->
      <div class="illustration-card">
        <img src="./assets/images/dash.png" alt="Gestion de fichiers" class="illustration-image">
      </div>
    </div>
    
  </div>